# 图片优化

前端对图片的优化一般是出于减少对`http`的请求数, 一般分为如下几种方式：

-   base64
-   精灵图
-   svg 矢量图
-   webP 图片(android 段)

## base64(内联到 css 或 html)

-   优点： 1. 减少 HTTP 请求
-   缺点： 1. 造成文件体积变大（大约比以前大 1/3）,造成加载时间过长 2. 无法单独缓存(或只能同存在的文件一起缓存) 3. 不兼容 IE8 及其以下 4. 不利于调试

## 精灵图

-   优点：减少 HTTP 请求
-   缺点： 1. 增加了加载图片的时间，其中某个图片必须等到整个图片加载完毕后才能显示 2. 图片迭代更新的时候要修改整个图片

## svg 矢量图

-   优点： 1. 可伸缩，不失真 2. 图片内文字支持搜索 3. 减少 HTTP 请求
-   缺点：色彩较少

## webP 图片

-   优点： 1. 更进一步压缩图片, 适合手机端
-   缺点： 1. 兼容性不太好，ios 需要三方库，安卓 4.0 以下也要三分库

[webp 具体介绍](./webp/README.md)

## 图片格式的使用场景

### png

特点：无损压缩、质量高、体积大、支持透明
缺点：体积稍大

### jpg

特点：有损压缩、体积小、加载快、不支持透明
缺点：不支持透明，有损压缩

### svg

特点：文本文件、体积小、不失真、兼容性好

### webP

特点：以上特点都有
缺点：兼容性

## base64

特点：文本文件、依赖编码、小图标解决方案
缺点：增大文件体积；无法单独缓存；不利于调试
